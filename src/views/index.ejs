<%- include('partials/header') %>

  <div class="container">
    <section class="input-section">
      <form action="/" method="POST" id="qr-form">
        <div class="form-group">
          <label for="text">Enter text to encode:</label>
          <input type="text" id="text" name="text" value="<%= inputText %>"
            placeholder="Max 17 bytes" required>
          <small class="char-counter">
            <span id="char-count">0</span>/17 bytes
          </small>
        </div>

        <% if (error) { %>
          <div class="error-message">
            <%= error %>
          </div>
          <% } %>

            <button type="submit" class="btn btn-primary">Generate QR Code</button>
      </form>
    </section>

    <% if (qrCode) { %>
      <section class="output-section">
        <h2>Your QR Code</h2>
        <div class="qr-display" id="qr-display">
          <%- qrCode %>
        </div>
        <button id="download-btn" class="btn btn-secondary">Download SVG</button>
      </section>
      <% } %>
  </div>

  <%- include('partials/footer') %>